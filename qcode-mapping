=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
 This file documents where qcode.cloudfoundry.com/ files live in chef-repo/
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

legend:
* TODO - needs to be chef-ized
* N/A - does not apply when using chef
* BACKUP - prod only, will revisit.
* DEPLOY - deployment of artifacts is implemented by chef, but need to revist for prod phased deployment
* otherwise points to the implemented chef version

------------
db -> cfc_db
------------
* db/etc/fstab - there are two additional entries within this file:
 /dev/sdb1 /home/code2cloud ... [cfc_db/recipes/default.rb:cfc_disk]
 172.31.36.7:/ifs/data/C2C /home/backup [cfc_db/recipes/default.rb:cfc_backup]

* db/etc/mysql/my.cnf - rather than replace my.conf:
 /etc/mysql/conf.d/cfc-db.cnf is created from cfc_db/templates/default/cfc-db.cnf.erb

* db/home/code2cloud/doDeploy.sh [DEPLOY]
* db/home/code2cloud/getDeploymentArtifacts.sh [DEPLOY]
* db/home/code2cloud/postDeploy.sh [DEPLOY]
* db/home/code2cloud/preDeploy.sh [DEPLOY]
* db/home/vcloud/backup.pl [BACKUP]

--------------
dmz -> cfc_dmz
--------------
* dmz/etc/apache2/apache2.conf - rather than replace apache2.conf:
 the cfc_dmz cookbook includes the standard apache2 cookbook, which generates apache2.conf from a template.
 cfc_dmz/attributes/default.rb contains :apache attributes which are replaced in this template.
 cfc_dmz/files/default/cfc_dmz.conf is dropped into /etc/apache2/conf.d/cfc_dmz.conf to override additional settings

* dmz/etc/apache2/mods-enabled/symlinks-to-create.README [cfc_dmz/recipes/default.rb:apache_module name]

* dmz/etc/apache2/ports.conf [created by the standard apache2 cookbook]

* dmz/etc/apache2/sites-available/code.cloudfoundry.com-maintenance
 generated from cfc_dmz/templates/default/site-maintenance.erb

* dmz/etc/apache2/sites-available/code.cloudfoundry.com-normal
 generated from cfc_dmz/templates/default/site-normal.erb

* dmz/etc/symlinks-to-create.README [created by the standard apache2 cookbook]

* dmz/home/code2cloud/doDeploy.sh [DEPLOY]
* dmz/home/code2cloud/getDeploymentArtifacts.sh [DEPLOY]
* dmz/home/code2cloud/postDeploy.sh [DEPLOY]
* dmz/home/code2cloud/preDeploy.sh [DEPLOY]

[cfc_dmz/recipes/default.rb:git ... repository node.dmz.git_repo]
* dmz/home/code2cloud/coming-soon/git-checkout.README [cfc_dmz/recipes/default.rb:execute "rsync -ar coming-soon ..."]
* dmz/home/code2cloud/maintenance/git-checkout.README [cfc_dmz/recipes/default.rb:execute "rsync -ar maintenance ..."]
* dmz/home/code2cloud/www-root/git-checkout.README [execute "rsync -a {404,500}.html .../www-root"]

* dmz/home/code2cloud/www-root/updateSite/contents.README [cfc_dmz/recipes/default.rb:remote_file "site.zip"]

* dmz/home/vcloud/.wgetrc [cfc_dmz/recipes/default.rb:cfc_user node.dmz.user]

----------------------
hmaster -> cfc_hmaster
----------------------
* hmaster/etc/fstab - there are two additional entries within this file:
 /dev/sdb1 /home/code2cloud ... [cfc_hmaster/recipes/default.rb:cfc_disk]
 172.31.36.7:/ifs/data/C2C /home/backup [cfc_server/recipes/default.rb:cfc_backup]

* hmaster/etc/init.d/symlinks-to-create.README [tcs/recipes/default.rb:template "/etc/init.d/#{node.tcs.service}"]

* hmaster/etc/symlinks-to-create.README [tcs/recipes/default.rb:service ... :enable]

* hmaster/home/code2cloud/hudson-homes/contents.README [cfc_hmaster/recipes/default.rb:directory node.hmaster.builds_dir]

* hmaster/home/code2cloud/doDeploy.sh [DEPLOY]
* hmaster/home/code2cloud/getDeploymentArtifacts.sh [DEPLOY]
* hmaster/home/code2cloud/postDeploy.sh [DEPLOY]
* hmaster/home/code2cloud/preDeploy.sh [DEPLOY]

* hmaster/home/code2cloud/webapps/contents.README [cfc_hmaster/recipes/default.rb:directory "#{node.cfc.server.home}/webapps"]

* hmaster/home/vcloud/.wgetrc [cfc_server/recipes/default.rb:cfc_user]

* hmaster/home/vcloud/backup.pl [BACKUP]

* hmaster/home/vcloud/tailLogs.sh [cfc_server/recipes/default.rb:file "/home/#{node.tcs.user}/tailLogs.sh"]

* hmaster/home/vcloud/updateProtocol.sh [N/A?]

* hmaster/opt/code2cloud/configuration/template/hudson-home/config.xml [cfc_hmaster/files/default/config.xml]

* hmaster/opt/code2cloud/configuration/template/hudson-home/hudson.plugin.buildlistener.xml [cfc_hmaster/files/default/hudson.plugin.buildlistener.xml]

* hmaster/opt/code2cloud/configuration/template/hudson-home/hudson.tasks.Mailer.xml [cfc_hmaster/templates/default/hudson.tasks.Mailer.xml.erb]

* hmaster/opt/code2cloud/contents.README [cfc_hmaster/recipes/default.rb] [cfc_hmaster/files/default/hudson-home]

* hmaster/opt/code2cloud/etc/alm.properties [cfc_hmaster/templates/default/alm.properties.erb]

* hmaster/opt/code2cloud/springsource-tc-server-developer/alm-services/bin/setenv.sh [tcs/recipes/default.rb:template "#{node.tcs.instance_dir}/bin/setenv.sh"]

* hmaster/opt/code2cloud/springsource-tc-server-developer/alm-services/conf/server.xml [cfc_hmaster/recipes/default.rb:cookbook_file "#{node.tcs.instance_dir}/conf/server.xml"]

* hmaster/opt/code2cloud/springsource-tc-server-developer/alm-services/symlinks-to-create.README [tcs/recipes/default.rb:link node.tcs.webapps]

* hmaster/opt/code2cloud/springsource-tc-server-developer/alm-services-startup [tcs/recipes/default.rb:template "/etc/init.d/#{node.tcs.service}"]

* hmaster/opt/code2cloud/springsource-tc-server-developer/symlinks-to-create.README [cfc_hmaster/recipes/default.rb:link "#{node.tcs.home}/hudson-masters"]

* hmaster/opt/code2cloud/symlinks-to-create.README [cfc_server/recipes/default.rb:link "#{node.tcs.root_dir}/tc-server"]

* hmaster/opt/symlinks-to-create.README [cfc_server/recipes/default.rb:link "/opt/cloudalm"]

----------------------
hslave -> cfc_hslave
----------------------
* hslave/etc/environment [templated cfc_hslave/templates/default/environment.erb]

* hslave/etc/hosts [roles/cfc-hslave.rb run_list "etchosts"]

* hslave/etc/ssh/builder/authorized_keys [cfc_hslave/recipes/default.rb:cfc_authorized_keys "builder"]

* hslave/etc/ssh/sshd_config [cfc_hslave/files/default/sshd_config]

* hslave/home/builder/.gitconfig [cfc_hslave/files/default/gitconfig]

* hslave/home/builder/.m2/settings.xml [cfc_hslave/templates/default/m2_settings.xml.erb]

* hslave/home/code2cloud/doDeploy.sh [DEPLOY]
* hslave/home/code2cloud/getDeploymentArtifacts.sh [DEPLOY]
* hslave/home/code2cloud/postDeploy.sh [DEPLOY]
* hslave/home/code2cloud/preDeploy.sh [DEPLOY]

* hslave/home/symlinks-to-create.README [cfc_hslave/recipes/default.rb:link "/home/c2c"]

* hslave/opt/c2c/contents.README [cfc_hslave/recipes/default.rb:remote_file "/opt/c2c/slave.jar"]

----------------------
hub -> cfc_hub
----------------------
* hub/etc/fstab - one additional entry in this file:
 172.31.36.7:/ifs/data/C2C /home/backup [cfc_server/recipes/default.rb:cfc_backup]

* hub/etc/init.d/symlinks-to-create.README [tcs/recipes/default.rb:template "/etc/init.d/#{node.tcs.service}"]

* hub/etc/ssh/sshd_config [cfc_hub/files/default/sshd_config]

* hub/etc/symlinks-to-create.README [tcs/recipes/default.rb:service ... :enable]

* hub/home/code2cloud/doDeploy.sh [DEPLOY]
* hub/home/code2cloud/getDeploymentArtifacts.sh [DEPLOY]
* hub/home/code2cloud/postDeploy.sh [DEPLOY]
* hub/home/code2cloud/preDeploy.sh [DEPLOY]

* hub/home/vcloud/.wgetrc [cfc_server/recipes/default.rb:cfc_user]

* hub/home/vcloud/backup.pl [BACKUP]

* hub/home/vcloud/tailLogs.sh [cfc_server/recipes/default.rb:file "/home/#{node.tcs.user}/tailLogs.sh"]

* hub/opt/code2cloud/etc/cloud.properties [cfc_hub/templates/default/profile.properties.erb]

* hub/opt/code2cloud/etc/log4j.xml [cfc_server/files/default/log4j.xml] [cfc_server/recipes/default.rb:cookbook_file "#{node.tcs.root_dir}/etc/log4j.xml"]

* hub/opt/code2cloud/etc/profile.properties [cfc_hub/templates/default/profile.properties.erb]

* hub/opt/code2cloud/etc/ssh-key.pem [cfc_hub/recipes/default.rb:cfc_ssh_key]
* hub/opt/code2cloud/etc/ssh-key.pem.pub [cfc_hub/recipes/default.rb:cfc_ssh_key]

* hub/opt/code2cloud/springsource-tc-server-developer/profile/bin/setenv.sh [tcs/recipes/default.rb:template "#{node.tcs.instance_dir}/bin/setenv.sh"]

* hub/opt/code2cloud/springsource-tc-server-developer/profile-startup [tcs/recipes/default.rb:template "/etc/init.d/#{node.tcs.service}"]

* hub/opt/code2cloud/symlinks-to-create.README [cfc_server/recipes/default.rb:link "#{node.tcs.root_dir}/tc-server"]

* hub/opt/symlinks-to-create.README [cfc_server/recipes/default.rb:link "/opt/cloudalm"]

* hub/usr/lib/jvm/java-6-sun/jre/lib/security/contents.README [jce_policy/recipes/default.rb]

------------------
nexus -> cfc_nexus
------------------
* nexus/etc/init.d/nexus [nexus/recipes/default.rb:template "/etc/init.d/nexus"]

* nexus/etc/symlinks-to-create.README [nexus/recipes/default.rb:service "nexus" :enable]

* nexus/home/code2cloud/doDeploy.sh [DEPLOY]
* nexus/home/code2cloud/getDeploymentArtifacts.sh [DEPLOY]
* nexus/home/code2cloud/postDeploy.sh [DEPLOY]
* nexus/home/code2cloud/preDeploy.sh [DEPLOY]

m2-repo files below distributed via [cfc_nexus/recipes/default.rb:remote_directory node.nexus.work]
                                    [which is a copy of cfc_nexus/files/default/m2-repo]
* nexus/home/code2cloud/m2-repo/log4j.properties
* nexus/home/code2cloud/m2-repo/nexus.xml
* nexus/home/code2cloud/m2-repo/security-configuration.xml
* nexus/home/code2cloud/m2-repo/security.xml

* nexus/opt/code2cloud/nexus/bin/jsw/conf/wrapper.conf [nexus/recipes/default.rb:template "#{node.nexus.path}/bin/jsw/conf/wrapper.conf"]

* nexus/opt/code2cloud/nexus/conf/plexus.properties [nexus/recipes/default.rb:template "#{node.nexus.path}/conf/plexus.properties"]

--------------
scm -> cfc_scm
--------------
* scm/etc/fstab - there are two additional entries within this file:
 /dev/sdb1 /home/code2cloud ... [cfc_scm/recipes/default.rb:cfc_disk]
 172.31.36.7:/ifs/data/C2C /home/backup [cfc_db/recipes/default.rb:cfc_backup]

* scm/etc/init.d/symlinks-to-create.README [tcs/recipes/default.rb:template "/etc/init.d/#{node.tcs.service}"]

* scm/etc/symlinks-to-create.README [tcs/recipes/default.rb:service ... :enable]

* scm/home/code2cloud/doDeploy.sh [DEPLOY]
* scm/home/code2cloud/getDeploymentArtifacts.sh [DEPLOY]
* scm/home/code2cloud/postDeploy.sh [DEPLOY]
* scm/home/code2cloud/preDeploy.sh [DEPLOY]

* scm/home/code2cloud/git-root/contents.README [cfc_scm/recipes/default.rb:directory "#{node.cfc.server.home}/git-root"]
* scm/home/code2cloud/maven-repo/contents.README [cfc_scm/recipes/default.rb:directory "#{node.cfc.server.home}/maven-repo"]

* scm/home/vcloud/.wgetrc [cfc_server/recipes/default.rb:cfc_user]

* scm/home/vcloud/backup.pl [BACKUP]

* scm/opt/code2cloud/etc/alm.properties [cfc_scm/templates/default/alm.properties.erb]

* scm/opt/code2cloud/etc/log4j.xml [tcs/files/default/log4j.xml] [cfc_server/recipes/default.rb:cookbook_file "#{node.tcs.root_dir}/etc/log4j.xml"]

* scm/opt/code2cloud/springsource-tc-server-developer/alm-services/bin/setenv.sh [tcs/recipes/default.rb:template "#{node.tcs.instance_dir}/bin/setenv.sh"]

* scm/opt/code2cloud/springsource-tc-server-developer/alm-services/conf/server.xml [cfc_scm/recipes/default.rb:cookbook_file "#{node.tcs.instance_dir}/conf/server.xml"]

* scm/opt/code2cloud/springsource-tc-server-developer/alm-services-startup [tcs/recipes/default.rb:template "/etc/init.d/#{node.tcs.service}"]

* scm/opt/code2cloud/symlinks-to-create.README [cfc_server/recipes/default.rb:link "#{node.tcs.root_dir}/tc-server"]

* scm/opt/symlinks-to-create.README [cfc_server/recipes/default.rb:link "/opt/cloudalm"]

----------------
task -> cfc_task
----------------
* task/etc/fstab - one additional entry in this file:
 172.31.36.7:/ifs/data/C2C /home/backup [cfc_server/recipes/default.rb:cfc_backup]

* task/etc/init.d/symlinks-to-create.README [tcs/recipes/default.rb:template "/etc/init.d/#{node.tcs.service}"]

* task/etc/symlinks-to-create.README [tcs/recipes/default.rb:service ... :enable]

* task/home/code2cloud/doDeploy.sh [DEPLOY]
* task/home/code2cloud/getDeploymentArtifacts.sh [DEPLOY]
* task/home/code2cloud/postDeploy.sh [DEPLOY]
* task/home/code2cloud/preDeploy.sh [DEPLOY]

* task/home/vcloud/.wgetrc [cfc_server/recipes/default.rb:cfc_user]

* task/home/vcloud/backup.pl [BACKUP]

* task/opt/code2cloud/etc/alm.properties [cfc_task/templates/default/alm.properties.erb]

* task/opt/code2cloud/etc/log4j.xml [tcs/files/default/log4j.xml] [cfc_server/recipes/default.rb:cookbook_file "#{node.tcs.root_dir}/etc/log4j.xml"]

* task/opt/code2cloud/springsource-tc-server-developer/alm-services/bin/setenv.sh [tcs/recipes/default.rb:template "#{node.tcs.instance_dir}/bin/setenv.sh"]

* task/opt/code2cloud/springsource-tc-server-developer/alm-services/conf/server.xml [cfc_task/recipes/default.rb:cookbook_file "#{node.tcs.instance_dir}/conf/server.xml"]

* task/opt/code2cloud/springsource-tc-server-developer/alm-services-startup [tcs/recipes/default.rb:template "/etc/init.d/#{node.tcs.service}"]

* task/opt/code2cloud/symlinks-to-create.README [cfc_server/recipes/default.rb:link "#{node.tcs.root_dir}/tc-server"]

* task/opt/symlinks-to-create.README [cfc_server/recipes/default.rb:link "/opt/cloudalm"]
